# Mitopia Backend Environment Variables
# Copy this file to .env and fill in your values

# =============================================================================
# GENERAL CONFIGURATION
# =============================================================================
NODE_ENV=development
LOG_LEVEL=info

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL Database URL
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://mitopia_user:mitopia_dev_password@localhost:5432/mitopia_dev

# For Railway deployment, use:
# DATABASE_URL=${{Postgres.DATABASE_URL}}

# =============================================================================
# CACHE CONFIGURATION  
# =============================================================================
# Redis URL
# Format: redis://host:port or redis://username:password@host:port
REDIS_URL=redis://localhost:6379

# For Railway deployment, use:
# REDIS_URL=${{Redis.REDIS_URL}}

# =============================================================================
# MESSAGE QUEUE CONFIGURATION
# =============================================================================
# RabbitMQ URL (optional for local development)
RABBITMQ_URL=amqp://mitopia:mitopia_dev_password@localhost:5672

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
# JWT Secret (use a strong, random string in production)
JWT_SECRET=your_super_secure_jwt_secret_change_this_in_production

# JWT Token Expiration
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# =============================================================================
# AI SERVICES CONFIGURATION
# =============================================================================
# OpenAI API Key (required for AI features)
# Get from: https://openai.com/api
OPENAI_API_KEY=sk-your-openai-api-key-here

# OpenAI Model Configuration
OPENAI_MODEL=gpt-4
OPENAI_WHISPER_MODEL=whisper-1

# =============================================================================
# PAYMENT PROCESSING
# =============================================================================
# Stripe API Keys
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here

# Stripe Webhook Secret (for webhook verification)
# Get from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret_here

# =============================================================================
# COMMUNICATION SERVICES
# =============================================================================
# Twilio Configuration (for SMS notifications)
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# SendGrid Configuration (for email notifications)
SENDGRID_API_KEY=SG.your_sendgrid_api_key
SENDGRID_FROM_EMAIL=noreply@mitopia.com

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
# Frontend URL (for CORS and redirects)
FRONTEND_URL=http://localhost:3000

# For production, use your actual frontend URL:
# FRONTEND_URL=https://mitopia.netlify.app

# =============================================================================
# SERVICE URLS (for inter-service communication)
# =============================================================================
# API Service URL
API_SERVICE_URL=http://localhost:8001

# Signaling Service URL  
SIGNALING_SERVICE_URL=http://localhost:8002

# STT Service URL
STT_SERVICE_URL=http://localhost:8003

# Translation Service URL
TRANSLATION_SERVICE_URL=http://localhost:8004

# Billing Service URL
BILLING_SERVICE_URL=http://localhost:8005

# Notes Service URL
NOTES_SERVICE_URL=http://localhost:8006

# For Railway deployment, use Railway's private networking:
# API_SERVICE_URL=${{API.RAILWAY_PRIVATE_DOMAIN}}
# SIGNALING_SERVICE_URL=${{SIGNALING.RAILWAY_PRIVATE_DOMAIN}}
# etc.

# =============================================================================
# MONITORING & ANALYTICS
# =============================================================================
# Sentry DSN (for error tracking)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Google Analytics (optional)
GA_TRACKING_ID=GA-XXXXXXXXX

# =============================================================================
# FILE STORAGE
# =============================================================================
# AWS S3 Configuration (for file uploads)
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
AWS_S3_BUCKET=mitopia-uploads

# =============================================================================
# RATE LIMITING
# =============================================================================
# Rate limiting configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Allowed origins for CORS (comma-separated)
CORS_ORIGINS=http://localhost:3000,https://mitopia.netlify.app

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================
# Enable debug logging
DEBUG=mitopia:*

# Enable API documentation
ENABLE_API_DOCS=true

# Enable development features
ENABLE_DEV_FEATURES=true

# =============================================================================
# PRODUCTION CONFIGURATION
# =============================================================================
# For production deployment, also set:
# - Use strong, unique passwords
# - Enable SSL/TLS
# - Configure proper CORS origins
# - Set up monitoring and logging
# - Configure backup strategies
# - Set up health checks

# Example production values:
# NODE_ENV=production
# LOG_LEVEL=warn
# ENABLE_API_DOCS=false
# ENABLE_DEV_FEATURES=false
